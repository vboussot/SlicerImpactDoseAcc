<?xml version="1.0" encoding="UTF-8"?>
<ui version="4.0">
 <class>DVHWidget</class>
 <widget class="QWidget" name="DVHWidget">
    <layout class="QVBoxLayout" name="verticalLayout_root">

      <!-- Inputs -->
      <item>
       <widget class="QGroupBox" name="inputs_group">
        <property name="title">
         <string>1. Inputs</string>
        </property>
        <layout class="QVBoxLayout" name="verticalLayout_inputs">
         <item>
          <layout class="QHBoxLayout" name="header_layout">
           <item>
            <widget class="QLabel" name="header_label">
             <property name="text">
              <string>Select inputs for DVH:</string>
             </property>
            </widget>
           </item>
           <item>
            <spacer name="header_spacer">
             <property name="orientation">
              <enum>Qt::Horizontal</enum>
             </property>
             <property name="sizeType">
              <enum>QSizePolicy::Expanding</enum>
             </property>
             <property name="sizeHint">
              <size>
               <width>40</width>
               <height>20</height>
              </size>
             </property>
            </spacer>
           </item>
           <item>
            <widget class="QPushButton" name="refresh_btn">
             <property name="maximumWidth">
              <number>60</number>
             </property>
             <property name="text">
              <string>⟳</string>
             </property>
             <property name="toolTip">
              <string>Refresh lists</string>
             </property>
            </widget>
           </item>
          </layout>
         </item>

         <item>
          <layout class="QHBoxLayout" name="dose_row_a">
           <item>
            <widget class="QLabel" name="dose_label_a">
             <property name="text">
              <string>Dose ref:</string>
             </property>
            </widget>
           </item>
           <item>
            <widget class="QComboBox" name="dose_combo_a"/>
           </item>
           <item>
            <widget class="QCheckBox" name="cb_unc_a">
             <property name="text">
              <string>Show uncertainty (+/-3sigma)</string>
             </property>
            </widget>
           </item>
          </layout>
         </item>

         <item>
          <layout class="QHBoxLayout" name="dose_row_b">
           <item>
            <widget class="QLabel" name="dose_label_b">
             <property name="text">
              <string>Dose estimated (optional):</string>
             </property>
            </widget>
           </item>
           <item>
            <widget class="QComboBox" name="dose_combo_b"/>
           </item>
           <item>
            <widget class="QCheckBox" name="cb_unc_b">
             <property name="text">
              <string>Show uncertainty (+/-3sigma)</string>
             </property>
            </widget>
           </item>
          </layout>
         </item>

         <item>
          <layout class="QHBoxLayout" name="seg_row">
           <item>
            <widget class="QLabel" name="seg_label">
             <property name="text">
              <string>Segmentation:</string>
             </property>
            </widget>
           </item>
           <item>
            <widget class="qMRMLNodeComboBox" name="seg_selector"/>
           </item>
          </layout>
         </item>

         <item>
          <widget class="QGroupBox" name="segments_group">
           <property name="title">
            <string>Segments to include</string>
           </property>
           <layout class="QVBoxLayout" name="verticalLayout_segments">
            <item>
             <widget class="QScrollArea" name="segments_scroll">
              <property name="widgetResizable">
               <bool>true</bool>
              </property>
              <property name="minimumHeight">
               <number>220</number>
              </property>
              <widget class="QWidget" name="segments_scroll_content">
               <layout class="QVBoxLayout" name="segments_scroll_layout">
                <item>
                 <spacer name="segments_spacer">
                  <property name="orientation">
                   <enum>Qt::Vertical</enum>
                  </property>
                  <property name="sizeType">
                   <enum>QSizePolicy::Expanding</enum>
                  </property>
                  <property name="sizeHint">
                   <size>
                    <width>20</width>
                    <height>20</height>
                   </size>
                  </property>
                 </spacer>
                </item>
               </layout>
              </widget>
             </widget>
            </item>
           </layout>
          </widget>
         </item>

         <item>
          <layout class="QHBoxLayout" name="output_row">
           <item>
            <widget class="QLabel" name="output_label">
             <property name="text">
              <string>Output base name:</string>
             </property>
            </widget>
           </item>
           <item>
            <widget class="QLineEdit" name="output_name_edit">
             <property name="text">
              <string>dvh_x</string>
             </property>
            </widget>
           </item>
          </layout>
         </item>

        </layout>
       </widget>
      </item>

      <!-- Buttons -->
      <item>
       <layout class="QHBoxLayout" name="buttons_row">
         <item>
          <widget class="QPushButton" name="run_btn">
           <property name="sizePolicy">
            <sizepolicy hsizetype="Expanding" vsizetype="Fixed">
             <horstretch>1</horstretch>
             <verstretch>0</verstretch>
            </sizepolicy>
           </property>
           <property name="minimumHeight">
            <number>36</number>
           </property>
           <property name="text">
            <string>Compute DVH</string>
           </property>
          </widget>
         </item>
         <item>
          <widget class="QPushButton" name="show_png_btn">
           <property name="sizePolicy">
            <sizepolicy hsizetype="Expanding" vsizetype="Fixed">
             <horstretch>1</horstretch>
             <verstretch>0</verstretch>
            </sizepolicy>
           </property>
           <property name="minimumHeight">
            <number>36</number>
           </property>
           <property name="text">
            <string>Show PNG</string>
           </property>
           <property name="toolTip">
            <string>Afficher l'image DVH générée (PNG) dans le viewer</string>
           </property>
          </widget>
         </item>
         <property name="stretch">
          <string>1,1</string>
         </property>
       </layout>
      </item>

      <!-- Status + progress -->
      <item>
       <widget class="QLabel" name="status_label">
        <property name="text">
         <string></string>
        </property>
        <property name="wordWrap">
         <bool>true</bool>
        </property>
       </widget>
      </item>
      <item>
       <widget class="QProgressBar" name="progress_bar">
        <property name="value">
         <number>0</number>
        </property>
        <property name="textVisible">
         <bool>true</bool>
        </property>
       </widget>
      </item>

      <!-- Plot -->
      <item>
       <widget class="qMRMLPlotWidget" name="plot_widget">
        <property name="minimumHeight">
         <number>260</number>
        </property>
       </widget>
      </item>

      <!-- Legend -->
      <item>
       <widget class="QGroupBox" name="legend_group">
        <property name="title">
         <string>Legend</string>
        </property>
        <layout class="QVBoxLayout" name="verticalLayout_legend">
         <item>
          <widget class="QLabel" name="legend_label">
           <property name="text">
            <string></string>
           </property>
           <property name="wordWrap">
            <bool>true</bool>
           </property>
          </widget>
         </item>
        </layout>
       </widget>
      </item>

      <item>
       <spacer name="root_spacer">
        <property name="orientation">
         <enum>Qt::Vertical</enum>
        </property>
        <property name="sizeType">
         <enum>QSizePolicy::Expanding</enum>
        </property>
        <property name="sizeHint">
         <size>
          <width>20</width>
          <height>40</height>
         </size>
        </property>
       </spacer>
      </item>

     </layout>
    </widget>
    <resources/>
    <connections/>
   </ui>
